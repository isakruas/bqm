{% extends 'templates/base.html' %}
{% block is_not_authenticated %}
<meta http-equiv="refresh" content="0; URL='../usuario/sair/'"/>
{% endblock is_not_authenticated %}
{% block is_authenticated_alfa %}
<meta http-equiv="refresh" content="0; URL='../../../usuario/alfa/'"/>
{% endblock is_authenticated_alfa %}
{% block is_authenticated_beta %}
<meta http-equiv="refresh" content="0; URL='../../../usuario/beta/'"/>
{% endblock is_authenticated_beta %}
{% block is_authenticated_gama %}
<meta http-equiv="refresh" content="0; URL='../../../usuario/gama/'"/>
{% endblock is_authenticated_gama %}
{% block is_authenticated_epsilon %}
<meta http-equiv="refresh" content="0; URL='../../../usuario/epsilon/'"/>
{% endblock is_authenticated_epsilon %}

{% block nav_delta %}
    <div class="nav-three-row">

      <div class="nav-three-row-one">
    
      </div>
     
      <div class="nav-three-row-two">
        <svg onclick = "location.href  = '../'"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path fill="currentColor" d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm3.222 18.917c5.666-5.905-.629-10.828-5.011-7.706l1.789 1.789h-6v-6l1.832 1.832c7.846-6.07 16.212 4.479 7.39 10.085z" />
        </svg>
      </div>

      <div class="nav-three-row-three">
 
      </div>

    </div>
{% endblock nav_delta %}


{% block head_u %}



{% endblock head_u %}

{% block main_delta %}
<script type="text/javascript">
  document.getElementById('info').innerHTML = '<h2 style="white-space: nowrap">DASHBOARD > CONFIGURAÇÃO</h2>';
</script>
 
  <div class="main-one-row">
      <div class="main-one-row-one">
        <div class="profile-header" style="height: 20vh">

            <center>
              <svg class="profile-header-img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path  fill="currentColor" d="M512.1 191l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0L552 6.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zm-10.5-58.8c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.7-82.4 14.3-52.8 52.8zM386.3 286.1l33.7 16.8c10.1 5.8 14.5 18.1 10.5 29.1-8.9 24.2-26.4 46.4-42.6 65.8-7.4 8.9-20.2 11.1-30.3 5.3l-29.1-16.8c-16 13.7-34.6 24.6-54.9 31.7v33.6c0 11.6-8.3 21.6-19.7 23.6-24.6 4.2-50.4 4.4-75.9 0-11.5-2-20-11.9-20-23.6V418c-20.3-7.2-38.9-18-54.9-31.7L74 403c-10 5.8-22.9 3.6-30.3-5.3-16.2-19.4-33.3-41.6-42.2-65.7-4-10.9.4-23.2 10.5-29.1l33.3-16.8c-3.9-20.9-3.9-42.4 0-63.4L12 205.8c-10.1-5.8-14.6-18.1-10.5-29 8.9-24.2 26-46.4 42.2-65.8 7.4-8.9 20.2-11.1 30.3-5.3l29.1 16.8c16-13.7 34.6-24.6 54.9-31.7V57.1c0-11.5 8.2-21.5 19.6-23.5 24.6-4.2 50.5-4.4 76-.1 11.5 2 20 11.9 20 23.6v33.6c20.3 7.2 38.9 18 54.9 31.7l29.1-16.8c10-5.8 22.9-3.6 30.3 5.3 16.2 19.4 33.2 41.6 42.1 65.8 4 10.9.1 23.2-10 29.1l-33.7 16.8c3.9 21 3.9 42.5 0 63.5zm-117.6 21.1c59.2-77-28.7-164.9-105.7-105.7-59.2 77 28.7 164.9 105.7 105.7zm243.4 182.7l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0l8.2-14.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zM501.6 431c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.6-82.4 14.3-52.8 52.8z"/></svg>
            </center>

            <center>
              <span class="profile-header-span">{{ user.email }}</span>
            </center>

        </div>

        <div class="main-auto-row-auto">
              <div class="forms">
                <center>
                  <br />
                  <button class="button"  onclick="alterar_senha(0)"> MODIFICAR SENHA</button>
                  <br />
                  <!---button class="button" style="background-color: #A30000" onclick="excluir_conta(0)"> EXCLUIR CONTA</button>
                  <br /-->
                  <button class="button" onclick="sair()"> SAIR</button>
                  <br />

                </center>

              </div>
        </div>
      </div>

  </div>
  
  <br /><br />

<script type="text/javascript">


function sair(){
  location.href = '../../sair/';
}

function alterar_senha(status){

  const token = BQ.Storage.Get({key:'token'});
  const id = BQ.Storage.Get({key:'id'});

  if (status == 0) {
     document.getElementById('alterar_senha_01').style.visibility = 'visible';
     BQ.Storage.Set({key:'alterar_senha_valor', value:''});
  }

  if (status == 1) {

    BQ.Api.Patch({
      route:'usuario/',

      headers: {
        'Access-Control-Allow-Origin': window.location.href,
        'Authorization': 'Token ' + token,
      },

      id: id,

      data:{
        'password':BQ.Storage.Get({key:'alterar_senha_valor'})
      },

      success:function(rtn){
          alterar_senha(2);
      }
    });

  }

  if (status == 2) {

    var msg = 'Sua senha foi alterada com sucesso.<br />Sua nova senha é: <b>'+
    BQ.Storage.Get({key:'alterar_senha_valor'})+
    '<br /> Será necessário realizar o login novamente.'; 

    document.getElementById('alterar_senha_msg').innerHTML = msg;

    document.getElementById('alterar_senha_03').style.visibility = 'visible';

     
  }


    if (status == 3) {

        var cookies = document.cookie.split(";");

        for (var i = 0; i < cookies.length; i++) {
            var cookie = cookies[i];
            var eqPos = cookie.indexOf("=");
            var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;
            document.cookie = name + "=;expires=Thu, 01 Jan 1970 00:00:00 GMT";
        }
    
        location.href = "{% url 'usuario_sair' %}"

    }

}

function excluir_conta(status) {

  const token = BQ.Storage.Get({key:'token'});
  const id = BQ.Storage.Get({key:'id'});

  if (status == 0) {
   document.getElementById('excluir_conta_01').style.visibility = 'visible';
 
  }

  if (status == 1) {
    console.log('exluindo ')

    BQ.Api.Delete({
      route:'usuario/',

      headers: {
        'Access-Control-Allow-Origin': window.location.href,
        'Authorization': 'Token ' + token,
      },

      id: id,

      success:function(rtn){
          console.log(rtn)

          location.href = '../../sair/'
      }
    });

 
  }

  
}
</script>
{% endblock main_delta %}


{% block alert_u %}
 

<div class="alert" id="alterar_senha_01" style="visibility: hidden;">
    <div class="alert-box">
        <div class="alert-two-row">
            <div class="alert-two-row-one" style="overflow-y: auto; padding:0.5cm; text-align: justify;">
              <br /> <svg xmlns="http://www.w3.org/2000/svg" width="30" height="32" viewBox="0 0 24 26"><path  fill="#2c2c2c" d="M16.5 14.492c0 .828-.56 1.5-1.25 1.5s-1.25-.671-1.25-1.5.56-1.5 1.25-1.5 1.25.672 1.25 1.5zm-7.75-1.5c-.69 0-1.25.672-1.25 1.5s.56 1.5 1.25 1.5 1.25-.672 1.25-1.5-.56-1.5-1.25-1.5zm3.25 8.354c2.235 0 3-2.354 3-2.354h-6s.847 2.354 3 2.354zm12-6.041c0 1.765-.985 3.991-3.139 4.906-2.348 3.731-5.484 5.781-8.861 5.781-3.377 0-6.513-2.05-8.862-5.781-2.153-.915-3.138-3.141-3.138-4.906 0-1.472.387-2.937 1.682-3.636-.377-2.311-.117-6.176 4.193-7.593 1.031-1.99 3.125-4.084 6.125-4.084s5.094 2.094 6.125 4.083c4.31 1.418 4.57 5.282 4.193 7.594 1.295.699 1.682 2.164 1.682 3.636zm-2.176-1.252c-4.687-.258-6.833-4.66-7.241-7.394-1.167 6.333-9 1.792-9.896 9.052-.886-.467-1.715-1.308-2.215-2.159-.996.997-.54 4.154 1.661 4.899.224.076.413.228.535.43 1.991 3.296 4.595 5.111 7.332 5.111s5.34-1.815 7.331-5.111c.122-.202.312-.354.535-.43 1.771-.599 2.517-2.769 1.958-4.398z"/></svg><br />
            Deseja modificar sua senha?
            </div>
            <div class="alert-two-row-two">
                <div class="alert-two-columns">
                    <div class="alert-two-columns-one" onclick="document.getElementById('alterar_senha_01').style.visibility = 'hidden';">
                        <p>NÃO</p>
                    </div>
                    <div class="alert-two-columns-two" onclick="document.getElementById('alterar_senha_01').style.visibility = 'hidden';document.getElementById('alterar_senha_02').style.visibility = 'visible';">
                        <p>SIM</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

 <div class="alert" id="alterar_senha_02" style="visibility: hidden;">
    <div class="alert-box">
        <div class="alert-two-row">
            <div class="alert-two-row-one" style="overflow-y: auto; padding:0.5cm; text-align: justify;">
            <br /> <svg xmlns="http://www.w3.org/2000/svg" width="30" height="32" viewBox="0 0 24 26"><path  fill="#2c2c2c" d="M16.5 14.492c0 .828-.56 1.5-1.25 1.5s-1.25-.671-1.25-1.5.56-1.5 1.25-1.5 1.25.672 1.25 1.5zm-7.75-1.5c-.69 0-1.25.672-1.25 1.5s.56 1.5 1.25 1.5 1.25-.672 1.25-1.5-.56-1.5-1.25-1.5zm3.25 8.354c2.235 0 3-2.354 3-2.354h-6s.847 2.354 3 2.354zm12-6.041c0 1.765-.985 3.991-3.139 4.906-2.348 3.731-5.484 5.781-8.861 5.781-3.377 0-6.513-2.05-8.862-5.781-2.153-.915-3.138-3.141-3.138-4.906 0-1.472.387-2.937 1.682-3.636-.377-2.311-.117-6.176 4.193-7.593 1.031-1.99 3.125-4.084 6.125-4.084s5.094 2.094 6.125 4.083c4.31 1.418 4.57 5.282 4.193 7.594 1.295.699 1.682 2.164 1.682 3.636zm-2.176-1.252c-4.687-.258-6.833-4.66-7.241-7.394-1.167 6.333-9 1.792-9.896 9.052-.886-.467-1.715-1.308-2.215-2.159-.996.997-.54 4.154 1.661 4.899.224.076.413.228.535.43 1.991 3.296 4.595 5.111 7.332 5.111s5.34-1.815 7.331-5.111c.122-.202.312-.354.535-.43 1.771-.599 2.517-2.769 1.958-4.398z"/></svg><br />
           Qual a nova senha?  
            <br />
            <input type="text"  style="height: 1cm; width: 100%; border:0.01cm solid #e1e1e8;" onchange="BQ.Storage.Set({key:'alterar_senha_valor', value:this.value});">
            </div>
            <div class="alert-two-row-two">

                <div class="alert-one-columns">
                    <div class="alert-one-columns-one" onclick="document.getElementById('alterar_senha_02').style.visibility = 'hidden'; alterar_senha(1);">
                        <p>SALVAR</p>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>


<div class="alert" id="alterar_senha_03" style="visibility: hidden;">
    <div class="alert-box">
        <div class="alert-two-row">
            <div class="alert-two-row-one" style="overflow-y: auto; padding:0.5cm; text-align: justify;">
                <br /> <svg xmlns="http://www.w3.org/2000/svg" width="30" height="32" viewBox="0 0 24 26"><path  fill="#2c2c2c" d="M16.5 14.492c0 .828-.56 1.5-1.25 1.5s-1.25-.671-1.25-1.5.56-1.5 1.25-1.5 1.25.672 1.25 1.5zm-7.75-1.5c-.69 0-1.25.672-1.25 1.5s.56 1.5 1.25 1.5 1.25-.672 1.25-1.5-.56-1.5-1.25-1.5zm3.25 8.354c2.235 0 3-2.354 3-2.354h-6s.847 2.354 3 2.354zm12-6.041c0 1.765-.985 3.991-3.139 4.906-2.348 3.731-5.484 5.781-8.861 5.781-3.377 0-6.513-2.05-8.862-5.781-2.153-.915-3.138-3.141-3.138-4.906 0-1.472.387-2.937 1.682-3.636-.377-2.311-.117-6.176 4.193-7.593 1.031-1.99 3.125-4.084 6.125-4.084s5.094 2.094 6.125 4.083c4.31 1.418 4.57 5.282 4.193 7.594 1.295.699 1.682 2.164 1.682 3.636zm-2.176-1.252c-4.687-.258-6.833-4.66-7.241-7.394-1.167 6.333-9 1.792-9.896 9.052-.886-.467-1.715-1.308-2.215-2.159-.996.997-.54 4.154 1.661 4.899.224.076.413.228.535.43 1.991 3.296 4.595 5.111 7.332 5.111s5.34-1.815 7.331-5.111c.122-.202.312-.354.535-.43 1.771-.599 2.517-2.769 1.958-4.398z"/></svg><br />
                <div id="alterar_senha_msg"> </div> 
            
            </div>
            <div class="alert-two-row-two">
                <div class="alert-one-columns">
                    <div class="alert-one-columns-one" onclick="document.getElementById('alterar_senha_02').style.visibility = 'hidden'; alterar_senha(3);">
                        <p>OK</p>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>


<div class="alert" id="excluir_conta_01">
    <div class="alert-box">
        <div class="alert-two-row">
            <div class="alert-two-row-one" style="overflow-y: auto; padding:0.5cm; text-align: justify;">
              <br /> <svg xmlns="http://www.w3.org/2000/svg" width="30" height="32" viewBox="0 0 24 26"><path  fill="#2c2c2c" d="M16.5 14.492c0 .828-.56 1.5-1.25 1.5s-1.25-.671-1.25-1.5.56-1.5 1.25-1.5 1.25.672 1.25 1.5zm-7.75-1.5c-.69 0-1.25.672-1.25 1.5s.56 1.5 1.25 1.5 1.25-.672 1.25-1.5-.56-1.5-1.25-1.5zm3.25 8.354c2.235 0 3-2.354 3-2.354h-6s.847 2.354 3 2.354zm12-6.041c0 1.765-.985 3.991-3.139 4.906-2.348 3.731-5.484 5.781-8.861 5.781-3.377 0-6.513-2.05-8.862-5.781-2.153-.915-3.138-3.141-3.138-4.906 0-1.472.387-2.937 1.682-3.636-.377-2.311-.117-6.176 4.193-7.593 1.031-1.99 3.125-4.084 6.125-4.084s5.094 2.094 6.125 4.083c4.31 1.418 4.57 5.282 4.193 7.594 1.295.699 1.682 2.164 1.682 3.636zm-2.176-1.252c-4.687-.258-6.833-4.66-7.241-7.394-1.167 6.333-9 1.792-9.896 9.052-.886-.467-1.715-1.308-2.215-2.159-.996.997-.54 4.154 1.661 4.899.224.076.413.228.535.43 1.991 3.296 4.595 5.111 7.332 5.111s5.34-1.815 7.331-5.111c.122-.202.312-.354.535-.43 1.771-.599 2.517-2.769 1.958-4.398z"/></svg><br />
               Ao continuar este processo, sua conta será desativada. Este processo não será reversível, sua conta será desativada definitivamente, sem a possibilidade de recuperá-la. 
                <br /><br />
               Deseja continuar o processo?
            </div>
            <div class="alert-two-row-two">

                <div class="alert-two-columns">
                    <div class="alert-two-columns-one" onclick="document.getElementById('excluir_conta_01').style.visibility = 'hidden';">
                        <p>NÃO</p>
                    </div>
                    <div class="alert-two-columns-two" onclick="document.getElementById('excluir_conta_01').style.visibility = 'hidden'; document.getElementById('excluir_conta_02').style.visibility = 'visible'">
                        <p>SIM</p>
                    </div>
                </div>
                 
            </div>
        </div>
    </div>
</div>


<div class="alert" id="excluir_conta_02" >
    <div class="alert-box">
        <div class="alert-two-row">
            <div class="alert-two-row-one" style="overflow-y: auto; padding:0.5cm; text-align: justify;">
              <br /> <svg xmlns="http://www.w3.org/2000/svg" width="30" height="32" viewBox="0 0 24 26"><path  fill="#2c2c2c" d="M16.5 14.492c0 .828-.56 1.5-1.25 1.5s-1.25-.671-1.25-1.5.56-1.5 1.25-1.5 1.25.672 1.25 1.5zm-7.75-1.5c-.69 0-1.25.672-1.25 1.5s.56 1.5 1.25 1.5 1.25-.672 1.25-1.5-.56-1.5-1.25-1.5zm3.25 8.354c2.235 0 3-2.354 3-2.354h-6s.847 2.354 3 2.354zm12-6.041c0 1.765-.985 3.991-3.139 4.906-2.348 3.731-5.484 5.781-8.861 5.781-3.377 0-6.513-2.05-8.862-5.781-2.153-.915-3.138-3.141-3.138-4.906 0-1.472.387-2.937 1.682-3.636-.377-2.311-.117-6.176 4.193-7.593 1.031-1.99 3.125-4.084 6.125-4.084s5.094 2.094 6.125 4.083c4.31 1.418 4.57 5.282 4.193 7.594 1.295.699 1.682 2.164 1.682 3.636zm-2.176-1.252c-4.687-.258-6.833-4.66-7.241-7.394-1.167 6.333-9 1.792-9.896 9.052-.886-.467-1.715-1.308-2.215-2.159-.996.997-.54 4.154 1.661 4.899.224.076.413.228.535.43 1.991 3.296 4.595 5.111 7.332 5.111s5.34-1.815 7.331-5.111c.122-.202.312-.354.535-.43 1.771-.599 2.517-2.769 1.958-4.398z"/></svg><br />
              Sentiremos sua falta! Esperamos ter conseguido fornecer a você um serviço util; nosso principal objetivo é fornecer a você recursos que venham a facilitar o processo de ensino e aprendizagem de matemática. Esperamos que em algum momento futuro você volte a utilizar os nossos serviços, obrigado pelo tempo que ficou conosco.

             
            </div>
            <div class="alert-two-row-two">

                <div class="alert-two-columns">
                    <div class="alert-two-columns-one" onclick="document.getElementById('excluir_conta_02').style.visibility = 'hidden';">
                        <p>CANCELAR</p>
                    </div>
                    <div class="alert-two-columns-two" onclick="excluir_conta(1)">
                        <p>EXCLUIR</p>
                    </div>
                </div>
               
            </div>
        </div>
    </div>
</div>

{% endblock alert_u %}
